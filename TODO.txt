==== NarraFirma to-do list:

H - high priority
M - medium priority
L - low priority
W - wish list

============ new things noticed/mentioned recently

- in import, the delimiter for multiple choices within one CSV cell should default to a comma (it does not default to anything),
and it should tell the user (in the interface and in the import guide) that it defaults to a comma
(or should it default to something else? what is best for legacy data?)
- for questions about participants, add some "what is your opinion" type questions to the templates
- consider improving the printing of collection/sensemaking session agendas; it is ugly

=============== OLDER TODOS LIST ===================

------------- Infrastructure -------------

BUILD
? Remove Lodash dependency (maybe?)

VERSIONING
M Create script or procedure to deal with SVN for WordPress' plugin archive
M Upgrade to later node.js version
M Upgrade to later d3 library version

LOGGING
W Think through logging in the server, perhaps using a library
    Ensure useful server logs are kept
    Fix issue with PNIWorkbookServer.conf that it uses logs directory that is not server-data/logs
W Think through logging in the client, perhaps using a library
    Client application could report errors to server or another service
    Client application could report usage metrics to server or another service
W Support for socket.io to track recently added survey results and whether survey is enabled
W Support for socket.io to replace the need for polling for changes

TRANSLATION (INTERNATIONALIZATION)
W Translate report answers as needed for those types like selections
W Final review of all strings in code looking for TODO translate items or similar

TESTING
W Unit tests
W Continuous integration server that runs tests
W Cypress testing

SECURITY
W Hash password when sending from client to server (not strictly needed if use ssh, and without ssh everything is potentially insecure from MITM attacks)

------------- Data storage -------------

POINTREL
W Check time server on startup in server to see if accurate enough when timestamping versions; maybe same for client
W Ensure timestamp for latest triple store messages is being set on server and not client
W Simplify Pointrel system further, like to not have message trace adding so PHP WordPress plugin code can be simpler and quicker
W Simplify Pointrel system further, like to only store triples instead of general arbitrary message objects
W Show deleted-but-not-really items as greyed-out and "archived"; allow user to bring them back, instead of being surprised when reusing a name
W Improve slow reading of large projects in WP version

QUESTIONS
W Improve how options are specified for questions in question designer rather than use text box
W Make sure that short name IDs entered by user when defining questions are unique among themselves
W Think about issue of including project name in stories and triple a field in relation to backup/restore
W Think about what happens to data if questions change somehow in future versions of the software

GRID
M Implement duplication of items in grid

EXPORT/IMPORT
W Add way to clear out or reset old survey results? Or maybe partition them by survey?
W Give user list of data fields in questionnaire not found in data file
W Remove restriction that text fields to be added to the story text must be to the right of the main story text column (easy to forget)

VALIDATION
W Think about validation and how or when or if it should be done
W Validation of page data as progress through a step
W Validation in general when progress through tabs and error reporting
W Validation of text fields for empty
W Validation of text fields for length
DONE Validation for checkBoxes limited by maximum number of choices as validation error

DATA ENTRY
W Autosave for current textarea or input text based on timer even if you don't leave it

------------- Survey system -------------

SURVEY GENERAL
M If logged in, survey should not use "anonymous" user to connect (or should ask)
L All responses for selections (other than sliders) should have unique IDs for each response, and the stored response should have the ID as well as the chosen text at the time.
W Add unique ID so long survey results can be saved as progressed through and finished later if participant has unique ID
W Better mobile support for taking survey on cell phones
W Support uploading of images
W Compliance with accessibility standards
W Only store reference to questionnaire file resource, not the resource itself
W Support translations or other categories for multiple question texts or choice texts for a survey
W Some easy way for two or more survey sliders to be close together under the same label 

SURVEY QUESTIONS
W Ideally way to do conditional question or answer (piping), especially to pick participant group
W Need "other" field for radiobuttons and checkboxes (maybe dropdown, probably not)
W Survey - add checkbox for "is question answer required"
W Survey - start page required (what to do if nothing entered)
W Survey - improve styling on radio buttons for question or alternative approach 
W Survey - back button in browser -- deal with so don't lose data

------------- PNI phases -------------

PLANNING

COLLECTION
W Add support for providing story browser filter options based on analyzing data from surveys to collect all actual choices as well as current questionnaire(s)
W Remember previous filtering options for any question in story browser
W Story list using dgrid with accordion for story
W Add templates for annotation questions (re-add "Copy a question from a template" button, removed in commit 2dde70086198417d2d005e3a6707045c18823d22 2015-09-20 19:09:57)
W Consider supporting mass annotation - export stories with uuids, create new annotation question, import story uuids with new data in CSV file
W Consider adding support for floating point scale values in CSV import
DONE Consider adding support for semicolon instead of comma (and comma instead of dot for decimals) for CSV import/export

CATALYSIS
W Need a flip axis for slider for catalysis when graphing? 
W Support common maximum for multiple histograms 
W Show percentages for question answers in title hover over questions in catalysis report configuration --> not important
W Support storyThemer -- a widget where people look at each story, give it 1-3 themes, then merge the themes into smaller numbers of themes --> yes but time consuming
W Support an excerpt list somehow --> copy and paste from story list is good enough
W Need to be able to select text in existing story to AddToExcerpts
W Support storiesList -- for choosing a resonant story -> not important, can copy and paste texts
W Consider drawing contingency graphs with side plots showing shapes of distributions (bar graphs) for each question -> not important
W Make interpretations have link back to (single) observation, but retain search function for legacy data

SENSEMAKING

INTERVENTION
W One project outcome item created per participant group

RETURN

------------- Project management -------------

GENERAL
W Support Undo (including multi-user aspects with log)
W User should be able to duplicate a project -> can do with export/import
W Consider in "Print project report" checkboxes for different parts of the report

CONFIGURATION
W Add project configuration page with options on what fields/sections/pages to show for project

------------- User interface -------------

USABILITY
W Improve dashboards, perhaps with checkmarks and thinking through completion feedback to be better
W Support checkBoxesWithPull -- a set of check boxes where the display texts are drawn from a list entered previously (like for participant list)

MULTI USER
W Support mult-user chat
W Notify user of multi-user edit conflicts

ALERTS / MESSAGES
W Look at all alerts in code and make into nicer GUI feedback
M Report when a project can't be read by the current user even if the survey can be read (fix limitation of lumping permissions)
M Improve reporting on startup for loading project data with some kind of progress indicator or remaining count
M When import story form, hundreds of triples can be generated which take minutes to send to the server (with no progress feedback, even though done in background) -- may be related to console logging

==== DONE

--- Release 1.5.14

Fixed: Bug in printing story cards where story-form question-answers were not appearing.

--- Release 1.5.13

Fixed: Bug where choose-questions-for-story-form widget was not matching up questions correctly if question short names had extra (leading or trailing) blank spaces. (Now any extra blank spaces are trimmed off.)
Fixed: Bug where extra (empty) lines in choice-question available-answers lists were creating malformed survey HTML, causing the error "Something went wrong loading the survey questionnaire from the server." (Blank lines are now being trimmed out correctly.) 

--- Release 1.5.12

Fixed: Bug where the texts of edited stories did not appear correctly in the "Show story texts for copying" popup window on the "Explore Patterns" page.
Fixed: Bug where annotations might not match existing stories correctly during import and bulk changes.

--- Release 1.5.11

Fixed: Improved error handling for empty (no-name) questions. Was choking on them during export.

--- Release 1.5.10

Fixed: Bug where write-in answers were missing from the display of submitted stories and answers to questions (for survey-takers to save a local copy of what they said).

--- Release 1.5.9

Added: Brief introductory text (with link to WWS book) to home page
Added: Section links to home page (on right, below story collections table, for better accessibility) 
Changed: Moved page descriptions from popup tooltips to texts below page links; shown by default but can be turned off in project admin options
Changed: Improved page descriptions to explain what each page is for and why you would want to use it
Changed: Section pages (Planning, Collection, etc) now start with graphical icons that echo the home-page diagram (better continuity)
Changed: Hid upper-right page navigation buttons (previous, next) in situations in which they had been disabled (gray)
Changed: Made all links have a highlighted box when hovered over (for better accessibility)
Changed: Consolidated all color designations in main CSS file into CSS vars (to make it easier to tweak colors)
Changed: Tweaked some colors to make interface a bit calmer
Changed: Removed hard-coded copy of CSS definitions for SVG-PNG conversion (now read directly from DOM); should reduce errors while changing CSS
Changed: Default font from "Arial, Helvetica" to "Helvetica, Arial" (looks better?)
Fixed: "Explore patterns" page now handles legacy case where observation exists but "remarkable" flag is not set
Fixed: Bug where version number was not updated in place that makes correct version appear on Project admininstration page

--- Release 1.5.8

Added: Bulk annotation import from CSV file
Fixed: Bug where question links to new story form were not being correctly created (causing it to be impossible to add questions to form)
Fixed: Formatting mistakes in help system

--- Release 1.5.7

Changed: In Node.js version, added logout link to choose-project page
Fixed: Bug (in WordPress version only) where setting and then deleting read-access permission role/id would allow anonymous read permission

--- Release 1.5.6

Changed: Added "start here" label to home-page diagram, so beginners have a hint at what to click on first
Changed: Revamped help system to (a) clarify interactions between pages and (b) add previous-next links between help pages
Changed: In story cards, added bold tags so word processors will show selected answers even if style information is lost
Changed: While looking at stories in "Review incoming stories" can now see raw JSON story data
Fixed: Bug where survey could refuse to save story because it seemed to have no name (though it did)
Fixed: Bug where question name with leading or trailing space did not match choice made in story form (now extra spaces are trimmed out)
Fixed: Bug where "Active on web?" column on "Start story collection" page showed "checked" for all story collections (instead of yes or no)
Fixed: Bug where instructions on "Create project story elements" page were out of synch with changed clustering-diagram interface

--- Release 1.5.5 

Fixed: Critical bug in WordPress PHP code that could cause new NarraFirma installations to show a blank screen instead of the setup page

--- Release 1.5.4

Fixed: Small bug in display lumping code that could cause a lumped count to be off when somebody chose and then un-chose an answer

--- Release 1.5.3

Added: Option to set custom graph height as well as width

--- Release 1.5.2

Changed: Improved usability of clustering interface (used in planning and catalysis)
Fixed: Improved error message when JSON was expected but HTML was received (the HTML could be an error message; now it is shown)
Fixed: Small (probably invisible) bug where id for write-in fields was not given story id prefix

--- Release 1.5.1

Fixed: Bug where catalysis report graphs did not print (list comparison was set backwards, sorry)

--- Release 1.5.0

Added (survey): Multi-lingual surveys (partipant can choose language; choice is saved for graphing)
Added (survey): Option to embed introductory video (streaming or mp4)
Added (survey): Story collection date question (generated or imported)
Added (survey): For all question types, option to allow write-in answer (for "other" answers or follow-up questions)
Added (survey): For "select" question type, option to show full list box instead of drop-down list 
Added (survey): For "select" question type, option to set no-choice text (e.g., "-- select --")
Added (survey): For "boolean" question type, option to set yes/no texts
Added (survey): For "text" question type, option to set width of textbox (in percentage units)
Added (survey): For "radio buttons" and "check boxes" question types, option to include image links to show below answers

Added (catalysis): Ability to change annotation questions while answering them (to build answer lists that emerge from reading stories)
Added (catalysis): Templates for annotation questions
Added (catalysis, sensemaking): Real-time display lumping (merging of similar answers) in catalysis graphs and statistics
Added (catalysis, sensemaking): Ability to filter stories by story length
Added (catalysis, sensemaking): Ability to filter stories by searching for specific pieces of text

Added (usability): Option to set project nickname, which shows on pages and reports within project
Added (usability): Buttons to hide or show advanced and import options for questions, story forms, observations
Added (usability): Improved text-box widths throughout the pages, so shorter texts have shorter text boxes
Added (usability): Better explanation/labeling of cluster order in catalysis clustering
Added (usability): Ability to "archive" (hide) WordPress projects

Changed (catalysis): Moved annotation facility from collection to catalysis; improved annotation process
Changed (usability): Added "choosers" to improve process of adding questions to story forms and changing question order
Changed (usability): Shortened length of text boxes for shorter entry fields (e.g., names, labels)
Changed (usability): Reduced number of entry fields that appear in situations where they don't apply
Changed (usability): Application now checks that your question short name is unique (instead of asking you to check it yourself)
Changed (usability): Navigation buttons now say "Previous page" and "Next page" (to make it more clear that you are going to a page, not doing something)
Changed (usability): Revamped WordPress launch/options page 
Changed (stability): Changed almost all "var" variables to "const" or "let" variables

Fixed (catalysis): Bug where missing custom graph size for catalysis report could result in printed graphs with zero height
Fixed (catalysis): Bug where no-answer answers for boolean and checkbox questions were being graphed as no or false instead of no-answer
Fixed (sensemaking): Bug where generated questions (e.g., Eliciting question) still appeared in story cards when their check boxes were unchecked
Fixed (sensemaking): Bug where story filter with && combination did not work when printing story cards
Fixed (usability): Issue where last few lines of home-page right-side links could pop over to bottom left
Fixed (usability): Many small CSS element spacing awkwardnesses
Fixed (stability): Bug where application did not load under WordPress when installed on Bedrock server
Fixed (stability): Updated Mann-Whitney U test for two improvements in scipy code from which it was derived

--- Release 1.4.2 

Added: Option to limit number of multi-choice answers participants can choose in survey
Added: Option to "pad" bottom of bar graphs and left/bottom of contingency tables to accommodate large fonts specified in CSS
Changed: On bar graphs, removed X axis label - was redundant (same as graph name)
Changed: On contingency tables, moved X and Y axis labels to upper-right corner (so they are no longer floating in space)
Changed: Improved responsive css styling on slider widget
Changed: Made slider value display (to right of slider) tabbable and editable (with Enter) as well as clickable (for accessibility)
Changed: Added CSS variables to make it easier to set colors in different survey areas (with custom CSS)
Changed: Improved story card display when one or both scale labels are missing
Changed: Set resizing on text boxes to vertical only (in survey and in NarraFirma interface) to avoid conflicts with window resizing
Fixed: Bug where "Print story cards" button was hidden when advanced options were turned off
Fixed: Bug where right arrow on survey, when seen on small (phone) screen, could wrap to next line

--- Release 1.4.1

Added: Message when there are no graphs for a pattern because none had the minimum number of stories to graph.
Fixed: Bug where expected bubbles on contingency graphs were sometimes too small (statistical results were not affected)
Fixed: Spurious message in contingency graph when question has no answer counts

--- Release 1.4.0

Added: Correlation map that shows relationships among all scale questions (overall and by choice question)
Added: Ability to save graph data to CSV file (to recreate graph outside NarraFirma) for selected graph or whole catalysis report
Added: System for marking patterns as remarkable, unremarkable, to be reviewed, or redundant - improves catalysis workflow
Added: Ability to show or hide all columns in pattern table on "Explore patterns" page
Added: Non-printing observation note (to remember something about an observation without having it appear in the report)
Added: Project options page (for options that affect whole project)
Added: Project option to set CSV delimiter for import and export (comma, semicolon, tab)
Changed: Better interface for choosing graph types to show on "Explore patterns" page, with graphics
Changed: Import system now warns if you try to import floating-point (real) numbers rather than integers for scale data
Changed: Better help on graph types on "Explore patterns" page
Changed: Limited size of Mann-Whitney statistical results table for contingency-histograms and multiple histograms (can be very long)
Fixed: Observation/interpretation with no name now shows description on clustering page (instead of nothing)
Fixed: Firefox bug causing help window to be shown in tiny font; now appears in tab but normal sized

--- Release 1.3.3

Added: Separate custom CSS field for graphs only - affects graphs both in application ("Explore patterns" page) and printed report
Added: Buttons to hide advanced options from beginners (affects three pages: print story cards, configure catalysis report, print catalysis report)
Added: More selection buttons (scales, choices, texts) to question choosing (in configure catalysis report and print story cards)
Changed: Simplified CSS class names of graph elements for easier reference in writing custom CSS field

--- Release 1.3.2

Fixed: Bug where SVG files were not being written to ZIP file 

--- Release 1.3.1

Changed: Improved drawing of counts on contingency charts

--- Release 1.3.0

Added: Interface - Ability to create multiple observations per pattern 
Added: Interface - Ability to include multiple patterns per observation
Added: Interface - Ability to save selected pattern image(s) on Explore Patterns page to SVG or PNG (zip file if multiple graphs)
Added: Interface - New field: observation "linking question" to introduce multiple interpretations (e.g., "Why do we see this pattern?")
Added: Interface - New field: interpretation "questions" to suggest things people can ponder in sensemaking (comes before "idea")

Added: Reporting - New catalysis report clustered by themes (groups of observations), with multiple interpretations following each observation
Added: Reporting - Option to choose observation strengths (high, medium, low, unassigned) in all catalysis report types
Added: Reporting - Can export all images related to observations only (zip file of PNG or SVG images)
Added: Reporting - Option to set print order of perspectives/themes during clustering (using "Edit cluster" popup window)
Added: Reporting - Option to hide specific observations, interpretations, or clusters from catalysis report (helpful when printing reports for different groups)
Added: Reporting - Option to show sequence number in catalysis report for each perspective, theme, observation, and interpretation
Added: Reporting - Option to hide report-creation information ("This report was generated") at start of catalysis report
Added: Reporting - Option to set label truncation limit on bar and contingency charts
Added: Reporting - Can now use simple **bold** and __italic__ formatting in all report fields

Added: Graphing - Option to increase or decrease graph font sizes in report graphs by percentage
Added: Graphing - Option to hide "no answers" counts (applies to graphs and statistics; choice is saved per report and per pattern)
Added: Graphing - Option to replace all graph/statistical texts in catalysis report (e.g., "Count", "mean") to simplify or translate report
Added: Graphing - Option to show observed/expected numbers on contingency-table bubbles 
Added: Graphing - Option to show row/column totals on contingency-table axes

Changed: Interface - Statistics calculations on "Explore patterns" page now happen in the background; can click on graphs while statistics are calculating
Changed: Interface - Collisions between users editing the same (large text) field are easier to resolve; writing in progress is preserved, and options are avilable to override/accept/edit changes
Changed: Interface - Startup message ("Retrieving project information") now shows count of messages loaded 
Changed: Interface - Lists of questions on "Configure catalysis report" and "Print story cards" pages are now multi-column (less scrolling)
Changed: Interface - Better order/flow/explanations of things on "Configure catalysis report" page
Changed: Interface - Options relevant only to printing have been moved from "Configure catalysis report" page to "Print catalysis report" page
Changed: Interface - "Choose a project" dialog now shows a login link if you are not already logged in

Changed: Reporting - Catalysis report now uses HTML headers (H1 through H6) which are more easily converted to styles by word processors
Changed: Reporting - Old @header@ system for "sectioning" observations is no longer needed and has been removed (no backward compatibility; copy sections into new observations)

Changed: Graphing - In contingency tables and contingency-histogram tables, Y axis now shows answers to question from top to bottom instead of bottom to top
Changed: Graphing - "No answer" bars/bubbles/boxes are now last instead of first bars/columns/rows
Changed: Graphing - Expected bubble on contingency tables is now red - easier to see (can be changed in custom CSS for report)
Changed: Graphing - Squares in contingency-histogram tables are now all the same width, to make it easier to compare means

Changed: Clustering - Interpretation/observation item colors now vary by observation strength (which can be switched on or off)
Changed: Clustering - You can now select and move multiple items/clusters at once (shift-click, or click and drag selection box)
Changed: Clustering - Hover-over hints now show observation name, text, and strength
Changed: Clustering - Setting the clustering surface size is easier than it was

Fixed: Bug (Interface) where multi-choice answers did not display correctly in the "Show selected stories" popup window 
Fixed: Bug (Interface) where count of contingency tables and contingency-histogram tables was sometimes wrong on "Configure catalysis report" page

Fixed: Bug (Reporting) where custom CSS was not being applied to images in catalysis report
Fixed: Bug (Reporting) where "Introduction" field was being ignored in catalysis report printing

Fixed: Bug (Export) where exporting story form or stories from "Export stories" page was not working correctly

Fixed: Bug (Graphing) where PNGs were empty in printed catalysis report
Fixed: Bug (Graphing) where "No answer" bar/bubble/box was being sorted in the middle of answers when some answers were numbers

Fixed: Bug (Clustering) where changing size of clustering surface did not update image immediately
Fixed: Bug (Clustering) where you could drag an item off the clustering surface

--- Release 1.2.6

Changed: Perspectives in catalysis report are now sorted by their vertical position in the clustering space
Changed: Reduced number of debug messages in CSV pre-import check, to prevent error messages from being pushed out by sheer volume of messages on large data sets 
Fixed: Bug where zero scale values were not being displayed on histograms (we apologize for never having noticed this before)

--- Release 1.2.5

Added: Option to hide statistical panels on Explore patterns page (useful when there are long lists of results to scroll through)
Added: Way to view/copy statistical results in pop-up window while looking at graph on Explore patterns page
Added: Interpretation count to summary above patterns table on Explore patterns page
Changed: Bar graph Y axis label now allocates more space when graph counts need more digits to display
Fixed: Bug where showing selected stories was not working correctly in new catalysis report

--- Release 1.2.4

Added: Better options for replacing or keeping existing questions when importing CSV story form
Added: Way to export observations, intepretations, perspectives from catalysis report to CSV and import them into new report on different story collection (as long as question names match)
Added: Way to view/copy names and texts of random sample of stories (10, 20, or 30) drawn from stories selected on graph
Added: Option to see answers to selected (important) questions while viewing/copying stories in graph selection 
Added: Separate columns in catalysis patterns table for (up to 3) questions referred to by each pattern (so you can sort by each question individually)
Added: Option to hide statistical results in printed catalysis report 
Added: Option to set number of bins for Story length question
Added: CSS Class names for graph axis labels depending on graph type (bar, histogram, etc)
Added: Summary above catalysis patterns table showing counts of patterns and observations (by strength)
Added: Story index (number in story collection) is now displayed in all places where story names are given (lists, story cards), to distinguish between stories with the same name

Changed: Filter (for catalysis reports and story cards) can now have negated queries (e.g., include every answer but one)
Changed: Filter (for catalysis reports and story cards) can now have multiple questions, creating more complex queries
Changed: Better pre-import check messages
Changed: Improved handling of clustering in situation where interpretations have texts but no names
Changed: Better interface for making and doing things with graph selections 
Changed: Moved saved graph selection reference from observation text to its own field (that does not appear in printed catalysis report)
Changed: Better question groupings on "Configure catalysis report" page
Changed: Now if you hover over a dot on a scatterplot and there is more than one story there, it will show you (the first ten of) the story names, instead of just one name/text
Changed: In the catalysis pattern table, for side-by-side scatterplots, instead of showing the lowest p value, it now shows the range of p values (which is more relevant)
Changed: Statistics panel is now transparent (no longer blue), so it doesn't stick out so much
Changed: Better font sizes for various graph axis labels
Changed: Better error messages for malformed HTML
Changed: Small interface improvements here and there

Fixed: Bug where selected pattern in catalyis pattern table would scroll out of view
Fixed: Bug where allowing AxA question combinations would also include both AXB and BXA question combinations
Fixed: Bug where portion of pre-import check log was being written to browser console when actually importing data
Fixed: Bug where answers lumped during import were printing multiple times in story cards
Fixed: Various little bugs here and there...

--- Release 1.2.3

Fixed: Critical bug (introduced in v1.2.0) where exporting "project snapshot with stories" was not actually exporting any stories
Fixed: Bug where extra result lines were displayed in Mann-Whitney U test (statistics for multiple histograms and contingency-histogram charts)
Added: Information on "Configure catalysis report" page telling user how many patterns (graphs, statistical calculations) will be generated by their current selections
Added: Warnings when large numbers of patterns will cause the "Explore patterns" page to load slowly (>10K graphs) or the browser to stop responding (>50K graphs) 
Added: Buttons on "Configure catalysis report" and "Print story cards" pages to select all story questions or participant questions
Changed: On "Explore patterns" page, progress bar (shown while calculating statistical results) now updates less frequently, causing the process to run faster 

--- Release 1.2.2 

Added: Can now run pre-import check and export story form from "Design story forms" page (so you no longer have to create a story collection to do these things)
Fixed: Bug where import scale range value of 0 was being ignored 
Fixed: Bug where story form name was not being set properly
Fixed: Bug where newly created question did not have id field set, resulting in an error when you replaced it during import of story form

--- Release 1.2.1 // switching over to writing things in the format needed for the WordPress readme (saves time)

Added: Option to graph multi-choice questions against themselves (to explore coincidences between answers)
Changed: Removed "vs" in graph names, to read better in other languages than English
Changed: Increased font size of axis labels (they seem too small now that the graphs are a little bigger)
Changed: Made sure graphs of every type have a title at the top
Fixed: Bug where observations-only report did not include observations without the strength option set

--- Release 1.2.0

NEW FEATURES
DONE New graph type - choice by choice by scale, or a contingency table with little pseudo-histogram boxes
DONE Added "filter" to create catalysis report and story cards using subset of stories based on answer(s) to question
DONE Added story length generated question
DONE Added option to print catalysis report with observations only (for group catalysis workshop) and with only particular strengths
DONE Improved catalysis report with links to observations as well as interpretations for each perspective (sorted by strength)
DONE Added method to reset (empty) project and clear out old data to reduce size loaded into memory (important when importing data)
DONE Added ability to hide graphs with few stories (applies to multiple histograms/scatterplots only)
DONE Added ability to save catalysis report graphs in SVG format (better resolution and can be styled with CSS)
DONE Import: Added options for indexed single choice; delimited multi-choice (one column, by name or index); yes/no multi-choice options (multiple columns)
DONE Import: Added many new options to (in most cases) remove need to edit data file before import
DONE Import: Made it possible to edit all import options in NarraFirma itself (no longer need to write CSV story form file)
DONE Import: Added verbose data check to make sure story data is being read correctly before stories are imported
DONE Import: Added options to append "more detail" text fields to story and ignore rows with empty or too-short story entries
DONE Import: Wrote detailed "import guide" to help make data import process easier

SMALL ENHANCEMENTS
DONE Improved names of graph types on configure catalysis report page (to make it clear why would want each one)
DONE Renamed pages in Collection section with Import buttons to make it more obvious how to import data
DONE Moved export buttons to their own page in story collection
DONE Added ability to refer to portion of observation name as well as text using @header@ system (see help)
DONE Added classes for custom CSS for particular (named) elements in catalysis reports (perspectives, observations, interpretations) and story cards (question names)
DONE Added choice of sort order when printing story cards: alphabetically or in story form order, and with scales separate or mixed in
DONE Added ability to truncate very long stories when printing story cards
DONE Added explanation (in help for design story forms page and import guide) of how to lump together answers during import
DONE Added way to see names of deleted story collections that still have stories associated with them
DONE Added check in node.js version to see if all projects user has access to still exist
DONE Improved design, organization, and explanations of administration pages in both node.js and WordPress versions
DONE Added check for admin permission for project import and reset
DONE In Explore patterns, added button to show selected story texts (to copy)
DONE Stress tested software with 13K stories; works fine, but you may need to increase the memory to WordPress or node.js, and things will slow down
DONE Added "quick links" to home page to access elements of projects (questions, forms, etc)

BUG FIXES
DONE Fixed bug that created spurious error messages during report generation
DONE Fixed bug in bar graphs for boolean questions (where "no" was being reported as a non-answer)
DONE Fixed bug that created error messages about missing IDs when creating story forms
DONE Changed "name" anchors to "id" anchors in generated HTML (because "name" anchors are deprecated in HTML 5)
DONE Fixed bad handling of missing/empty custom CSS in imported story form file
DONE Fixed too-wide catalysis report pages for multi-graph results
DONE Fixed bug that caused WordPress error when project name was too long (project names are now limited)
DONE Fixed problem in node.js version where link appeared to screen user did not actually have access to

--- Release 1.1.0

DONE Add way to save story once submitted
DONE Add human readable project report (these are all the same thing)
  DONE Generate HTML reports that can be downloaded
  DONE Print section reports as HTML 
  DONE Maybe have a summary page at end of each section (where they put in final notes on that phase) CFK
  DONE Maybe replace reports with one page to export report (or export data)
  DONE Generate PDF reports

--- Release 1.0.2

DONE Add notes fields to questions, to record decisions
DONE All user communications in survey experience can be customized (essential for non-English surveys)

--- Release 1.0.1

DONE Fix scrolling navigation panel
DONE Update WordPress screen shots

---- Release 1.0.0

DONE Improve look of login and start pages generated by Node.js server
DONE After "update story form", is correct in "review incoming stories" under Edit but not under View (does not update for new form)
DONE User definable CSS themes for surveys
DONE Text search function (at least for stories) - can do this by searching in the "review incoming stories" table - added help to tell user this
DONE When a Grid item is added but no data is entered like for a catalysis report, the entry in a select looks wrong - now warns user
DONE Way to select a different project to switch to (other than editing the URL or logging out)
DONE Add close button to top of item panel - moved close button inside box - easier to understand
DONE Better information about what is going on in item panel - whether view, edit - colors show difference
DONE Show number of interpretations in table in PatternExplorer (can show list of interpretations)
DONE Select story positioning and visibility for printing story cards - can now do with CSS 
DONE Select title positioning and visibility for printing story cards - can now do with CSS 
DONE Sliders - Sliders too tiny (hard to see color) - made wider
DONE Survey - maximum number stories 
DONE User can enter text for (print and web): Please choose a question to which you would like to respond; Please enter your response in the box below; Please give your story a name; Would you like to tell another story; Yes, I'd like to tell another story; About you
DONE Add ideas to catalysis report
DONE Shrink statistics panels (less scrolling)
DONE Improve updating on clustering diagram for catalysis
DONE Add observation strength to catalysis
DONE Redo main dashboard buttons
DONE Redo color scheme
DONE Add custom CSS to story card display
DONE Add way to reference parts of multi-part observation (to have more than one observation per graph, but without complicating interface)
DONE Add number to slider
DONE Improve look of catalysis report
DONE Add more user supplied fields to catalysis report
DONE Add custom CSS to catalysis report
DONE Support multiple scatter plots across individual question answers
DONE Add data integrity graph: all scale values
DONE Add data integrity graph: per-participant means
DONE Add data integrity graph: per-participant std deviations
DONE Add data integrity graph: number of N/As per question, scale questions
DONE Add data integrity graph: number of N/As per question, choice questions
DONE Add way to select which type of graph to show on "configure catalysis report" page (to look at graphs in batches by type)
DONE Add correlation line to scatterplots
DONE Add way to choose another project without logging out
DONE Change catalysis and spot-check graphs pages so they only show questions used in current story collection
DONE Add Eliciting question to catalysis - seems like it is not there (!)
DONE When make story form, need way to copy all questions of a type into form
DONE Better reporting on statistical errors
DONE Show text questions in catalysis 
DONE Better error handling during import
DONE Better explanation of import from CSV
DONE Ability to set title, text, image, etc in CSV story form import
DONE Show specified image in survey!
DONE Better scaling for graphs
DONE Counts above bars on bar graphs and histograms
DONE Add count of num stories told per person - as question (so can be compared to other questions)
DONE Add way to distinguish participants in imported data (to count num stories told)
DONE Progress dialog when large number of catalysis statistics to calculate
DONE Add scale conversion during data import (for legacy data)
DONE Add options for graph drawing in catalysis - num histogram bins, scatterplot dot size and opacity
DONE Add unanswered count to histograms
DONE Improve story card display so not so jumpy
DONE For P=0.000 maybe show < somehow as in p<0.001
DONE Select questions for printing story cards
DONE Test all statistical tests for validity more -- run same tests in spreadsheet on same data (actually compared to old NarraCat results)
DONE Forgot to put "memorable" in eliciting question types ("What type of question is this?")
DONE If entering a story and decide not to, can't remove window without adding story. (But seems to work during local test using "CLose" button) - changed "Close" to "Cancel"
DONE After enter story in story thing, form contents don't change (in noticeable way). Rest of form looks the same and no indication. Maybe could improve somehow (like clear). Different needs for data entry -- want to clear and enter new one.
DONE After you enter a story, it shows an alert that the story has been saved, but it doesn't get rid of the window. the popup window should go away - it doesn't but that's okay

Things Cynthia did in release 0.9.1 (probably) but did not notice were still in the to-do list until release 1.0.0

DONE Improve look of catalysis report (actually this was done back in 0.9.1)
DONE Fix CSS styling so reminder section of page is different
DONE Improve general CSS styling on all pages (forms)
DONE Display list of selected stories in spot-checking graph browser in Collection section
DONE Test that catalysis report can be reliably imported in Word using the inline images or from intermediate PDF doc printed on Mac

---- Release 0.9.1

DONE Move DONE items for release 0.9.0 from TODO.txt to TODO-done.txt with release label for them
DONE Learn how to use some build or packaging process to minimize application for deployment [using requirejs]
DONE Load pages and panels via regular imports instead of later via dynamic loading to make bundling easier with requirejs
DONE Update package.json to include packaging step to create bundles

---- Release 0.9.2
DONE Improve starting up feedback to show whether loading app, getting user information, or retrieving project data
DONE Print story form title says "undefined"
DONE Move any loaded plain JavaScript libraries into bundles
DONE Improve bundling so recommendations text is included in bundle

--- Release 0.9.3

DONE Finish WordPress readme.txt file
DONE Add arrows to sliders to make them more understandable when looking at them on a mobile device with a narrow screen.
DONE Fix problem where first two characters of display name are being truncated during CSV export of story form.
DONE Add warning about story collection creation.

--- Release 0.9.4

DONE Use NarraFirma namespace in WordPress plugin PHP to conform with WordPress guidelines
DONE Fix WordPress plugin survey bug where always returning first questionnaire added in a topic instead of the last one

--- Release 0.9.5

Remove leading and trailing spaces from passwords set via Node.js admin command line tool to deal with Windows issue
Do not log password under Node.js
Improve README.md and add SETUP.md to have better setup information (including the need to compile TypeScript files)
Include doctype and other metadata in Node.js login html pages

--- Release 0.9.6

Sanitize SQL input for WordPress plugin
Improve TypeScript typings so compiles under TypeScript 1.6

---- Release 0.9.7

DONE Add count of selected stories in Explore patterns
DONE Improve look of statistical results
DONE Improve axis labeling on graphs with rotated names under graphs so they don't run together
DONE Labels in graphs run into each other if they are long or there are many labels
DONE Sometimes labels at bottom of graph overlap if many items in a scatter plot
DONE Improve graph colors
DONE would like to make "focus rectangle" or "rubber band" over graphs when selecting - see http://bl.ocks.org/mbostock/1667367
DONE For multiple histograms, the "N/A (checkboxes)" should have a blank line above it
DONE Display total count of all answers when displaying question name in Story Browser (did not do this, but put total count above filters)
DONE Display how many stories and/or survey results have been collected (in story browser)
DONE Need "does not apply" for sliders
DONE Slider should have a "does not apply" option
DONE Need to jiggle slider button or it records nothing (needs work)
DONE Fix bug with checkbox questions not storing data correctly
DONE Consider putting annotations at TOP of "Review stories" list so they are easier to add
DONE Show annotations in different color in "Review stories" list so they are easier to pick out 
DONE Move "Reason to ignore story" thing to end of "Review stories" list so it doesn't get in the way when editing
DONE Show story text more prominently on story card display
DONE Move annotations to bottom of story card display

--- Release 0.9.8

DONE Need to improve look of printed/exported catalysis report
DONE Need to improve look of printed/exported story form
DONE Need to improve look of printed/exported story cards
DONE Add selected stories count to "Spot check graphs" page
DONE Add links to <= and => links at top of page
DONE Contingency graphs come out with black background in Print Catalysis Report
DONE Add headings to break up long lists of pages (especially for Planning and Collection)
